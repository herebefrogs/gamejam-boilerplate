<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e={},t=t=>e[t]||0,o=t=>delete e[t];addEventListener("keydown",(t=>{t.preventDefault(),t.repeat||(e[t.code]=performance.now())})),addEventListener("keyup",(e=>o(e.code)));var a=(...e)=>Math.max(...e.map((e=>t(e)))),i=()=>Object.keys(e).filter((e=>t(e))).length,n=e=>!!t(e)&&o(e);function h(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function r(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}var m,d=0,w=0,v=0,g=0,y=0,s=0,f=0,l=0,x=0;addEventListener("pointerdown",(e=>{e.preventDefault(),m=e,x=performance.now(),[d,w]=[f,l]=[y,s]=M()})),addEventListener("pointermove",(e=>{e.preventDefault(),m=e,[d,w]=M(),x&&(d>f?v=h(0,1,((f=d)-y)/30):y>d?v=-h(0,1,(f-(y=d))/30):f>d&&v>=0?(y=d,v=0):d>y&&0>=v&&(f=d,v=0),w>l?g=h(0,1,((l=w)-s)/30):s>w?g=-h(0,1,(l-(s=w))/30):l>w&&g>=0?(s=w,g=0):w>s&&0>=g&&(l=w,g=0))})),addEventListener("pointerup",(e=>{e.preventDefault(),m=e,x=0,v=g=y=s=f=l=0}));var p,A,M=()=>[Math.floor(m.pageX),Math.floor(m.pageY)],u=()=>x,E=()=>!!u()&&(x=!0),k=/iPhone|iPad|Android/i.test(navigator.userAgent);function b(e,t,o,a=0,i=1){const n=8*i,h=e.length*n+(e.length-1)*i,r=2===a?h:1===a?h/2:0;[...e].forEach(((e,a)=>{A.drawImage(p,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(e),0,8,8,t+a*i*9-r,o,n,n)}))}new(window.AudioContext||webkitAudioContext);var R,X,D,Y=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","KeyB","KeyA"],L=0,U=0,K=c.getContext("2d"),N=c.cloneNode(),j=N.getContext("2d");N.width=640,N.height=480;var F=c.cloneNode(),I=F.getContext("2d");F.width=320,F.height=240;var T,B,P,Q,O,S=F.width-100,Z=F.height-50,z=0,C=0,G={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},H=!0;function V(e,t=0,o=0){const a=G[e].move[0];return{action:"move",frame:0,frameTime:0,h:a.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,speed:G[e].speed,type:e,w:a.w,x:t,y:o}}function J(e){e.frameTime+=P,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=G[e.type][e.action].length);const t=e.speed*P*(e.moveX&&e.moveY?.7071067811865476:1);e.x+=t*e.moveX,e.y+=t*e.moveY}function W(){H&&(O=requestAnimationFrame(W),B=performance.now(),P=(B-Q)/1e3,(()=>{switch((()=>{switch(U){case 0:n(Y[L])&&L++,(i()||E())&&(L=0,R=60,z=C=0,X=V("hero",F.width/2,F.height/2),D=[X,V("foe",10,10),V("foe",614,10),V("foe",614,452),V("foe",300,200),V("foe",400,300),V("foe",500,400),V("foe",10,452),V("foe",100,100),V("foe",100,118),V("foe",116,118),V("foe",116,100)],j.fillStyle="#fff",j.fillRect(0,0,N.width,N.height),U=1);break;case 1:u()?[X.moveX,X.moveY]=[v,g]:(X.moveLeft=a("ArrowLeft","KeyA","KeyQ"),X.moveRight=a("ArrowRight","KeyD"),X.moveUp=a("ArrowUp","KeyW","KeyZ"),X.moveDown=a("ArrowDown","KeyS"),X.moveX=X.moveLeft||X.moveRight?(X.moveLeft>X.moveRight?-1:1)*h(0,1,(B-Math.max(X.moveLeft,X.moveRight))/150):0,X.moveY=X.moveDown||X.moveUp?(X.moveUp>X.moveDown?-1:1)*h(0,1,(B-Math.max(X.moveUp,X.moveDown))/150):0);break;case 2:n("KeyT")&&(async e=>{if(navigator.canShare&&navigator.canShare(e))try{await navigator.share(e)}catch{}else open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(e.text)}%20${encodeURIComponent(e.url)}`,"_blank")})({title:document.title,text:"Check this game template made by @herebefrogs",url:"https://bit.ly/gmjblp"}),(i()||E())&&(U=0)}})(),U){case 1:0>(R-=P)&&(U=2),D.forEach(J),D.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(X,e);t.collide&&((e,t,o)=>{const{entity1MaxX:a,entity1MaxY:i,entity2MaxX:n,entity2MaxY:h}=o,r=a-t.x,m=i-t.y,c=n-e.x,d=h-e.y;e.moveX>0&&e.moveY>0?m>r?e.x-=r:e.y-=m:e.moveX>0&&0>e.moveY?d>r?e.x-=r:e.y+=d:e.moveX>0?e.x-=r:0>e.moveX&&e.moveY>0?m>c?e.x+=c:e.y-=m:0>e.moveX&&0>e.moveY?d>c?e.x+=c:e.y+=d:0>e.moveX?e.x+=c:e.moveY>0?e.y-=m:0>e.moveY&&(e.y+=d)})(X,e,t)})),0>(e=X).x?e.x=0:e.x>N.width-e.w&&(e.x=N.width-e.w),0>e.y?e.y=0:e.y>N.height-e.h&&(e.y=N.height-e.h),z>0&&z+100>X.x?z=Math.max(0,X.x-100):N.width-F.width>z&&X.x+X.w>z+S&&(z=Math.min(N.width-F.width,X.x+X.w-S)),C>0&&C+50>X.y?C=Math.max(0,X.y-50):N.height-F.height>C&&X.y+X.h>C+Z&&(C=Math.min(N.height-F.height,X.y+X.h-Z))}var e})(),(()=>{switch(I.fillStyle="#fff",I.fillRect(0,0,F.width,F.height),U){case 0:b("title screen",8,8),b(k?"tap to start":"press any key",F.width/2,F.height/2,1),L===Y.length&&b("konami mode on",F.width-8,8,2);break;case 1:I.drawImage(N,z,C,F.width,F.height,0,0,F.width,F.height),b("game screen",8,8),(()=>{const e=Math.floor(Math.ceil(R)/60),t=Math.ceil(R)-60*e;b(`${e}:${t>9?"":"0"}${t}`,F.width-8,8,2)})(),D.forEach((e=>((e,t=I)=>{const o=G[e.type][e.action][e.frame];t.drawImage(T,o.x,o.y,o.w,o.h,Math.round(e.x-z),Math.round(e.y-C),o.w,o.h)})(e)));break;case 2:b("end screen",8,8)}K.drawImage(F,0,0,F.width,F.height,0,0,c.width,c.height)})(),Q=B)}function q(e){(H=e)?(Q=performance.now(),W()):cancelAnimationFrame(O)}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async e=>{A=e,p=await r("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(I),T=await r("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),q(!0)},onresize=onrotate=()=>{c.scaleToFit=Math.min(innerWidth/F.width,innerHeight/F.height),c.width=F.width*c.scaleToFit,c.height=F.height*c.scaleToFit,K.imageSmoothingEnabled=j.imageSmoothingEnabled=I.imageSmoothingEnabled=!1,window.focus()},document.onvisibilitychange=e=>{q(!e.target.hidden)},addEventListener("keydown",(e=>{e.repeat||1!==U||"KeyP"!==e.code||q(!H)}))})();</script>