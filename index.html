<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e,t,o=/iPhone|iPad|Android/i.test(navigator.userAgent),n={},a=e=>n[e]||0,i=()=>Object.keys(n).filter((e=>n[e])).length,h=e=>!!a(e)&&m(e),m=e=>delete n[e];function r(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function w(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}function v(o,n,a,i=0,h=1){const m=8*h,r=o.length*m+(o.length-1)*h,c=2===i?r:1===i?r/2:0;[...o].forEach(((o,i)=>{t.drawImage(e,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(o),0,8,8,n+i*h*9-c,a,m,m)}))}document.addEventListener("keydown",(e=>{e.preventDefault(),e.repeat||(n[e.code]=performance.now())})),document.addEventListener("keyup",(e=>m(e.code))),new(window.AudioContext||webkitAudioContext);var d,g,s,y=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","KeyB","KeyA"],f=0,x=0,l=c.getContext("2d"),p=c.cloneNode(),A=p.getContext("2d");p.width=640,p.height=480;var u=c.cloneNode(),M=u.getContext("2d");u.width=320,u.height=240;var R,k,b,D,E,X=u.width-100,Y=u.height-50,U=0,L=0,K={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},N=!0;function j(){f=0,d=10,U=L=0,g=I("hero",u.width/2,u.height/2),s=[g,I("foe",10,10),I("foe",614,10),I("foe",614,452),I("foe",300,200),I("foe",400,300),I("foe",500,400),I("foe",10,452),I("foe",100,100),I("foe",100,118),I("foe",116,118),I("foe",116,100)],A.fillStyle="#fff",A.fillRect(0,0,p.width,p.height),x=1}function I(e,t=0,o=0){const n=K[e].move[0];return{action:"move",frame:0,frameTime:0,h:n.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,speed:K[e].speed,type:e,w:n.w,x:t,y:o}}function T(e){e.frameTime+=b,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=K[e.type][e.action].length);const t=e.speed*b*(e.moveX&&e.moveY?.7071067811865476:1);e.x+=t*e.moveX,e.y+=t*e.moveY}function B(){N&&(E=requestAnimationFrame(B),k=performance.now(),b=(k-D)/1e3,(()=>{switch((()=>{switch(x){case 0:h(y[f])&&f++,i()&&j();break;case 1:g.moveLeft=Math.max(a("ArrowLeft"),a("KeyA"),a("KeyQ")),g.moveRight=Math.max(a("ArrowRight"),a("KeyD")),g.moveUp=Math.max(a("ArrowUp"),a("KeyW"),a("KeyZ")),g.moveDown=Math.max(a("ArrowDown"),a("KeyS"));break;case 2:h("KeyT")&&(async e=>{if(navigator.canShare&&navigator.canShare(e))try{await navigator.share(e)}catch{}else open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(e.text)}%20${encodeURIComponent(e.url)}`,"_blank")})({title:document.title,text:"Check this game template made by @herebefrogs",url:"https://bit.ly/gmjblp"}),i()&&(x=0)}})(),x){case 1:0>(d-=b)&&(x=2),Z?(g.moveX=g.moveLeft+g.moveRight,g.moveY=g.moveUp+g.moveDown):(g.moveX=g.moveLeft||g.moveRight?(g.moveLeft>g.moveRight?-1:1)*r(0,1,(k-Math.max(g.moveLeft,g.moveRight))/150):0,g.moveY=g.moveDown||g.moveUp?(g.moveUp>g.moveDown?-1:1)*r(0,1,(k-Math.max(g.moveUp,g.moveDown))/150):0),s.forEach(T),s.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(g,e);t.collide&&((e,t,o)=>{const{entity1MaxX:n,entity1MaxY:a,entity2MaxX:i,entity2MaxY:h}=o,m=n-t.x,r=a-t.y,c=i-e.x,w=h-e.y;e.moveX>0&&e.moveY>0?r>m?e.x-=m:e.y-=r:e.moveX>0&&0>e.moveY?w>m?e.x-=m:e.y+=w:e.moveX>0?e.x-=m:0>e.moveX&&e.moveY>0?r>c?e.x+=c:e.y-=r:0>e.moveX&&0>e.moveY?w>c?e.x+=c:e.y+=w:0>e.moveX?e.x+=c:e.moveY>0?e.y-=r:0>e.moveY&&(e.y+=w)})(g,e,t)})),0>(e=g).x?e.x=0:e.x>p.width-e.w&&(e.x=p.width-e.w),0>e.y?e.y=0:e.y>p.height-e.h&&(e.y=p.height-e.h),U>0&&U+100>g.x?U=Math.max(0,g.x-100):p.width-u.width>U&&g.x+g.w>U+X&&(U=Math.min(p.width-u.width,g.x+g.w-X)),L>0&&L+50>g.y?L=Math.max(0,g.y-50):p.height-u.height>L&&g.y+g.h>L+Y&&(L=Math.min(p.height-u.height,g.y+g.h-Y))}var e})(),(()=>{switch(M.fillStyle="#fff",M.fillRect(0,0,u.width,u.height),x){case 0:v("title screen",8,8),v(o?"tap to start":"press any key",u.width/2,u.height/2,1),f===y.length&&v("konami mode on",u.width-8,8,2);break;case 1:M.drawImage(p,U,L,u.width,u.height,0,0,u.width,u.height),v("game screen",8,8),(()=>{const e=Math.floor(Math.ceil(d)/60),t=Math.ceil(d)-60*e;v(`${e}:${t>9?"":"0"}${t}`,u.width-8,8,2)})(),s.forEach((e=>((e,t=M)=>{const o=K[e.type][e.action][e.frame];t.drawImage(R,o.x,o.y,o.w,o.h,Math.round(e.x-U),Math.round(e.y-L),o.w,o.h)})(e)));break;case 2:v("end screen",8,8)}l.drawImage(u,0,0,u.width,u.height,0,0,c.width,c.height)})(),D=k)}function P(e){(N=e)?(D=performance.now(),B()):cancelAnimationFrame(E)}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async o=>{t=o,e=await w("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(M),R=await w("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),P(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/u.width,innerHeight/u.height);c.width=u.width*e,c.height=u.height*e,l.imageSmoothingEnabled=A.imageSmoothingEnabled=M.imageSmoothingEnabled=!1,window.focus()},document.onvisibilitychange=e=>{P(!e.target.hidden)},addEventListener("keydown",(e=>{e.repeat||1!==x||"KeyP"!==e.code||P(!N)}));var Q=0,F=0,O=0,S=0,Z=!1;function z(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),x){case 1:Z=!0,[O,S]=[Q,F]=z(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),x){case 1:Q&&F&&(([e,t])=>{e>O?g.moveRight=r(0,1,((O=e)-Q)/30):Q>e?g.moveLeft=-r(0,1,(O-(Q=e))/30):O>e&&g.moveX>=0?(Q=e,g.moveRight=0):e>Q&&0>=g.moveX&&(O=e,g.moveLeft=0),t>S?g.moveDown=r(0,1,((S=t)-F)/30):F>t?g.moveUp=-r(0,1,(S-(F=t))/30):S>t&&g.moveY>=0?(F=t,g.moveDown=0):t>F&&0>=g.moveY&&(S=t,g.moveUp=0)})(z(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),x){case 0:j();break;case 1:Z=!1,g.moveLeft=g.moveRight=g.moveDown=g.moveUp=0,Q=F=O=S=0;break;case 2:x=0}}})();</script>