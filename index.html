<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e,t,o=/iPhone|iPad|Android/i.test(navigator.userAgent);function a(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function i(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}function n(o,a,i,n=0,h=1){const m=8*h,c=o.length*m+(o.length-1)*h,r=2===n?c:1===n?c/2:0;[...o].forEach(((o,n)=>{t.drawImage(e,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(o),0,8,8,a+n*h*9-r,i,m,m)}))}new(window.AudioContext||webkitAudioContext);var h,m,r,v=[38,38,40,40,37,39,37,39,66,65],w=0,s=0,g=c.getContext("2d"),d=c.cloneNode(),y=d.getContext("2d");d.width=640,d.height=480;var f=c.cloneNode(),p=f.getContext("2d");f.width=320,f.height=240;var x,l,u,A,b,k=f.width-100,M=f.height-50,R=0,D=0,X={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},Y=!0;function U(){w=0,h=60,R=D=0,m=E("hero",f.width/2,f.height/2),r=[m,E("foe",10,10),E("foe",614,10),E("foe",614,452),E("foe",300,200),E("foe",400,300),E("foe",500,400),E("foe",10,452),E("foe",100,100),E("foe",100,118),E("foe",116,118),E("foe",116,100)],y.fillStyle="#fff",y.fillRect(0,0,d.width,d.height),s=1}function E(e,t=0,o=0){const a=X[e].move[0];return{action:"move",frame:0,frameTime:0,h:a.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,speed:X[e].speed,type:e,w:a.w,x:t,y:o}}function K(e){e.frameTime+=u,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=X[e.type][e.action].length);const t=e.speed*u*(e.moveX&&e.moveY?.7071067811865476:1);e.x+=t*e.moveX,e.y+=t*e.moveY}function L(){Y&&(b=requestAnimationFrame(L),l=performance.now(),u=(l-A)/1e3,(()=>{switch(s){case 1:0>(h-=u)&&(s=2),P?(m.moveX=m.moveLeft+m.moveRight,m.moveY=m.moveUp+m.moveDown):(m.moveX=m.moveLeft||m.moveRight?(m.moveLeft>m.moveRight?-1:1)*a(0,1,(l-Math.max(m.moveLeft,m.moveRight))/150):0,m.moveY=m.moveDown||m.moveUp?(m.moveUp>m.moveDown?-1:1)*a(0,1,(l-Math.max(m.moveUp,m.moveDown))/150):0),r.forEach(K),r.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(m,e);t.collide&&((e,t,o)=>{const{entity1MaxX:a,entity1MaxY:i,entity2MaxX:n,entity2MaxY:h}=o,m=a-t.x,c=i-t.y,r=n-e.x,v=h-e.y;e.moveX>0&&e.moveY>0?c>m?e.x-=m:e.y-=c:e.moveX>0&&0>e.moveY?v>m?e.x-=m:e.y+=v:e.moveX>0?e.x-=m:0>e.moveX&&e.moveY>0?c>r?e.x+=r:e.y-=c:0>e.moveX&&0>e.moveY?v>r?e.x+=r:e.y+=v:0>e.moveX?e.x+=r:e.moveY>0?e.y-=c:0>e.moveY&&(e.y+=v)})(m,e,t)})),0>(e=m).x?e.x=0:e.x>d.width-e.w&&(e.x=d.width-e.w),0>e.y?e.y=0:e.y>d.height-e.h&&(e.y=d.height-e.h),R>0&&R+100>m.x?R=Math.max(0,m.x-100):d.width-f.width>R&&m.x+m.w>R+k&&(R=Math.min(d.width-f.width,m.x+m.w-k)),D>0&&D+50>m.y?D=Math.max(0,m.y-50):d.height-f.height>D&&m.y+m.h>D+M&&(D=Math.min(d.height-f.height,m.y+m.h-M))}var e})(),(()=>{switch(p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height),s){case 0:n("title screen",8,8),n(o?"tap to start":"press any key",f.width/2,f.height/2,1),10===w&&n("konami mode on",f.width-8,8,2);break;case 1:p.drawImage(d,R,D,f.width,f.height,0,0,f.width,f.height),n("game screen",8,8),(()=>{const e=Math.floor(Math.ceil(h)/60),t=Math.ceil(h)-60*e;n(`${e}:${t>9?"":"0"}${t}`,f.width-8,8,2)})(),r.forEach((e=>((e,t=p)=>{const o=X[e.type][e.action][e.frame];t.drawImage(x,o.x,o.y,o.w,o.h,Math.round(e.x-R),Math.round(e.y-D),o.w,o.h)})(e)));break;case 2:n("end screen",8,8)}g.drawImage(f,0,0,f.width,f.height,0,0,c.width,c.height)})(),A=l)}function N(e){(Y=e)?(A=performance.now(),L()):cancelAnimationFrame(b)}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async o=>{t=o,e=await i("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(p),x=await i("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),N(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/f.width,innerHeight/f.height);c.width=f.width*e,c.height=f.height*e,g.imageSmoothingEnabled=y.imageSmoothingEnabled=p.imageSmoothingEnabled=!1,window.focus()},document.onvisibilitychange=e=>{N(!e.target.hidden)},onkeydown=e=>{if(e.preventDefault(),!e.repeat)switch(s){case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":m.moveLeft=l;break;case"ArrowUp":case"KeyW":case"KeyZ":m.moveUp=l;break;case"ArrowRight":case"KeyD":m.moveRight=l;break;case"ArrowDown":case"KeyS":m.moveDown=l;break;case"KeyP":N(!Y)}}},onkeyup=e=>{switch(s){case 0:e.which!==v[w]||10===w?U():w++;break;case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":m.moveRight&&(m.moveRight=l),m.moveLeft=0;break;case"ArrowRight":case"KeyD":m.moveLeft&&(m.moveLeft=l),m.moveRight=0;break;case"ArrowUp":case"KeyW":case"KeyZ":m.moveDown&&(m.moveDown=l),m.moveUp=0;break;case"ArrowDown":case"KeyS":m.moveUp&&(m.moveUp=l),m.moveDown=0}break;case 2:switch(e.code){case"KeyT":(async e=>{if(navigator.canShare&&navigator.canShare(e))try{await navigator.share(e)}catch{}else open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(e.text)}%20${encodeURIComponent(e.url)}`,"_blank")})({title:document.title,text:"Check this game template made by @herebefrogs",url:"https://bit.ly/gmjblp"});break;default:s=0}}};var I=0,j=0,Q=0,T=0,P=!1;function B(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),s){case 1:P=!0,[Q,T]=[I,j]=B(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),s){case 1:I&&j&&(([e,t])=>{e>Q?m.moveRight=a(0,1,((Q=e)-I)/30):I>e?m.moveLeft=-a(0,1,(Q-(I=e))/30):Q>e&&m.moveX>=0?(I=e,m.moveRight=0):e>I&&0>=m.moveX&&(Q=e,m.moveLeft=0),t>T?m.moveDown=a(0,1,((T=t)-j)/30):j>t?m.moveUp=-a(0,1,(T-(j=t))/30):T>t&&m.moveY>=0?(j=t,m.moveDown=0):t>j&&0>=m.moveY&&(T=t,m.moveUp=0)})(B(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),s){case 0:U();break;case 1:P=!1,m.moveLeft=m.moveRight=m.moveDown=m.moveUp=0,I=j=Q=T=0;break;case 2:s=0}}})();</script>