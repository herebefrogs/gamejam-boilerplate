<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e,t,o=/iPhone|iPad|Android/i.test(navigator.userAgent);function a(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function i(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}function h(o,a,i,h=0,n=1){const m=8*n,c=o.length*(m+1)-1,r=2===h?c:1===h?c/2:0;[...o].forEach(((o,h)=>{t.drawImage(e,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(o),0,8,8,a+h*(m+1)-r,i,m,m)}))}new(top.AudioContext||webkitAudioContext);var n,m,r,v=[38,38,40,40,37,39,37,39,66,65],s=0,w=0,g=c.getContext("2d"),d=c.cloneNode(),y=d.getContext("2d");d.width=640,d.height=480;var f=c.cloneNode(),x=f.getContext("2d");f.width=320,f.height=240;var p,l,A,u,k,M=f.width-100,D=f.height-50,b=0,R=0,X={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},Y=!0;function E(){s=0,n=60,b=R=0,m=U("hero",f.width/2,f.height/2),r=[m,U("foe",10,10),U("foe",614,10),U("foe",614,452),U("foe",300,200),U("foe",400,300),U("foe",500,400),U("foe",10,452),U("foe",100,100),U("foe",100,118),U("foe",116,118),U("foe",116,100)],y.fillStyle="#fff",y.fillRect(0,0,d.width,d.height),w=1}function U(e,t=0,o=0){const a=X[e].move[0];return{action:"move",frame:0,frameTime:0,h:a.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,speed:X[e].speed,type:e,w:a.w,x:t,y:o}}function K(e){e.frameTime+=A,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=X[e.type][e.action].length);const t=e.speed*A*(e.moveX&&e.moveY?.7071067811865476:1);e.x+=t*e.moveX,e.y+=t*e.moveY}function L(){Y&&(k=requestAnimationFrame(L),(()=>{switch(x.fillStyle="#fff",x.fillRect(0,0,f.width,f.height),w){case 0:h("title screen",8,8),h(o?"tap to start":"press any key",f.width/2,f.height/2,1),10===s&&h("konami mode on",f.width-8,8,2);break;case 1:x.drawImage(d,b,R,f.width,f.height,0,0,f.width,f.height),h("game screen",8,8),(()=>{const e=Math.floor(Math.ceil(n)/60),t=Math.ceil(n)-60*e;h(`${e}:${t>9?"":"0"}${t}`,f.width-8,8,2)})(),r.forEach((e=>((e,t=x)=>{const o=X[e.type][e.action][e.frame];t.drawImage(p,o.x,o.y,o.w,o.h,Math.round(e.x-b),Math.round(e.y-R),o.w,o.h)})(e)));break;case 2:h("end screen",8,8)}g.drawImage(f,0,0,f.width,f.height,0,0,c.width,c.height)})(),l=Date.now(),A=(l-u)/1e3,(()=>{switch(w){case 1:0>(n-=A)&&(w=2),I?(m.moveX=m.moveLeft+m.moveRight,m.moveY=m.moveUp+m.moveDown):(m.moveX=m.moveLeft||m.moveRight?(m.moveLeft>m.moveRight?-1:1)*a(0,1,(l-Math.max(m.moveLeft,m.moveRight))/150):0,m.moveY=m.moveDown||m.moveUp?(m.moveUp>m.moveDown?-1:1)*a(0,1,(l-Math.max(m.moveUp,m.moveDown))/150):0),r.forEach(K),r.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(m,e);t.collide&&((e,t,o)=>{const{entity1MaxX:a,entity1MaxY:i,entity2MaxX:h,entity2MaxY:n}=o,m=a-t.x,c=i-t.y,r=h-e.x,v=n-e.y;e.moveX>0&&e.moveY>0?c>m?e.x-=m:e.y-=c:e.moveX>0&&0>e.moveY?v>m?e.x-=m:e.y+=v:e.moveX>0?e.x-=m:0>e.moveX&&e.moveY>0?c>r?e.x+=r:e.y-=c:0>e.moveX&&0>e.moveY?v>r?e.x+=r:e.y+=v:0>e.moveX?e.x+=r:e.moveY>0?e.y-=c:0>e.moveY&&(e.y+=v)})(m,e,t)})),0>(e=m).x?e.x=0:e.x>d.width-e.w&&(e.x=d.width-e.w),0>e.y?e.y=0:e.y>d.height-e.h&&(e.y=d.height-e.h),b>0&&b+100>m.x?b=Math.max(0,m.x-100):d.width-f.width>b&&m.x+m.w>b+M&&(b=Math.min(d.width-f.width,m.x+m.w-M)),R>0&&R+50>m.y?R=Math.max(0,m.y-50):d.height-f.height>R&&m.y+m.h>R+D&&(R=Math.min(d.height-f.height,m.y+m.h-D))}var e})(),u=l)}function N(e){(Y=e)?(u=Date.now(),L()):cancelAnimationFrame(k)}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async o=>{t=o,e=await i("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(x),p=await i("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),N(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/f.width,innerHeight/f.height);c.width=f.width*e,c.height=f.height*e,g.imageSmoothingEnabled=y.imageSmoothingEnabled=x.imageSmoothingEnabled=!1},document.onvisibilitychange=e=>{N(!e.target.hidden)},onkeydown=e=>{if(e.preventDefault(),!e.repeat)switch(w){case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":m.moveLeft=l;break;case"ArrowUp":case"KeyW":case"KeyZ":m.moveUp=l;break;case"ArrowRight":case"KeyD":m.moveRight=l;break;case"ArrowDown":case"KeyS":m.moveDown=l;break;case"KeyP":N(!Y)}}},onkeyup=e=>{switch(w){case 0:e.which!==v[s]||10===s?E():s++;break;case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":m.moveRight&&(m.moveRight=l),m.moveLeft=0;break;case"ArrowRight":case"KeyD":m.moveLeft&&(m.moveLeft=l),m.moveRight=0;break;case"ArrowUp":case"KeyW":case"KeyZ":m.moveDown&&(m.moveDown=l),m.moveUp=0;break;case"ArrowDown":case"KeyS":m.moveUp&&(m.moveUp=l),m.moveDown=0}break;case 2:switch(e.code){case"KeyT":open("https://twitter.com/intent/tweet?text=viral%20marketing%20message%20https%3A%2F%2Fgoo.gl%2Fsome tiny Google url here","_blank");break;default:w=0}}};var F=0,Q=0,T=0,j=0,I=!1;function P(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),w){case 1:I=!0,[T,j]=[F,Q]=P(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),w){case 1:F&&Q&&(([e,t])=>{e>T?m.moveRight=a(0,1,((T=e)-F)/30):F>e?m.moveLeft=-a(0,1,(T-(F=e))/30):T>e&&m.moveX>0?(F=e,m.moveRight=0):e>F&&0>m.moveX&&(T=e,m.moveLeft=0),t>j?m.moveDown=a(0,1,((j=t)-Q)/30):Q>t?m.moveUp=-a(0,1,(j-(Q=t))/30):j>t&&m.moveY>0?(Q=t,m.moveDown=0):t>Q&&0>m.moveY&&(j=t,m.moveUp=0)})(P(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),w){case 0:E();break;case 1:I=!1,m.moveLeft=m.moveRight=m.moveDown=m.moveUp=0,F=Q=T=j=0;break;case 2:w=0}}})();</script>