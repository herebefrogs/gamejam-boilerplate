<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e={},t=t=>e[t]||0,o=t=>delete e[t];addEventListener("keydown",(t=>{t.preventDefault(),t.repeat||(e[t.code]=performance.now())})),addEventListener("keyup",(e=>o(e.code)));var a=(...e)=>Math.max(...e.map((e=>t(e)))),n=()=>Object.keys(e).filter((e=>t(e))).length,i=e=>!!t(e)&&o(e);function h(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function r(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}var d,l=0,w=0,m=0,v=0,g=0,y=0,f=0,s=0,x=0;addEventListener("pointerdown",(e=>{e.preventDefault(),d=e,x=performance.now(),[l,w]=[f,s]=[g,y]=M()})),addEventListener("pointermove",(e=>{e.preventDefault(),d=e,[l,w]=M(),x&&(l>f?m=h(0,1,((f=l)-g)/30):g>l?m=-h(0,1,(f-(g=l))/30):f>l&&m>=0?(g=l,m=0):l>g&&0>=m&&(f=l,m=0),w>s?v=h(0,1,((s=w)-y)/30):y>w?v=-h(0,1,(s-(y=w))/30):s>w&&v>=0?(y=w,v=0):w>y&&0>=v&&(s=w,v=0))})),addEventListener("pointerup",(e=>{e.preventDefault(),d=e,x=0,m=v=g=y=f=s=0}));var p,A,u,M=()=>[Math.floor(d.pageX),Math.floor(d.pageY)],E=()=>x,R=()=>!!E()&&(x=!0),b=/iPhone|iPad|Android/i.test(navigator.userAgent);function k(e,t,o,a=0,n=1){const i=8*n,h=e.length*i+(e.length-1)*n,r=2===a?h:1===a?h/2:0;[...e].forEach(((e,a)=>{u.drawImage(p,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(e),0,8,8,t+a*n*9-r,o,i,i)}))}new(window.AudioContext||webkitAudioContext);var X,D,Y,L=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","KeyB","KeyA"],N=0,U=0,K=0,I=0,j=100,F=c.getContext("2d"),T=c.cloneNode(),B=T.getContext("2d");T.width=640,T.height=480;var P=c.cloneNode(),Q=P.getContext("2d");P.width=640,P.height=480;var S,O,C,Z,z,G,H=(S=c,(A=S.cloneNode()).width=320,A.heigh=240,(u=A.getContext("2d")).imageSmoothingEnabled=!1,A),V={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},J=!0;function W(e,t=0,o=0){const a=V[e].move[0];return{action:"move",frame:0,frameTime:0,h:a.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,velX:0,velY:0,speed:V[e].speed,type:e,w:a.w,x:t,y:o}}function q(e){e.frameTime+=Z,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=V[e.type][e.action].length);const t=e.speed*Z*(e.velX&&e.velY?.7071067811865476:1);e.x+=t*e.velX,e.y+=t*e.velY}function $(){var e;J&&(G=requestAnimationFrame($),C=performance.now(),Z=(C-z)/1e3,(()=>{switch(U){case 0:i(L[N])&&N++,(n()||R())&&(N=0,X=60,K=I=0,D=W("hero",160,120),Y=[D,W("foe",10,10),W("foe",614,10),W("foe",614,452),W("foe",300,200),W("foe",400,300),W("foe",500,400),W("foe",10,452),W("foe",100,100),W("foe",100,118),W("foe",116,118),W("foe",116,100)],Q.fillStyle="#fff",Q.fillRect(0,0,P.width,P.height),U=1);break;case 1:E()?[D.velX,D.velY]=[m,v]:(D.moveLeft=a("ArrowLeft","KeyA","KeyQ"),D.moveRight=a("ArrowRight","KeyD"),D.moveUp=a("ArrowUp","KeyW","KeyZ"),D.moveDown=a("ArrowDown","KeyS"),D.velX=D.moveLeft||D.moveRight?(D.moveLeft>D.moveRight?-1:1)*h(0,1,(C-Math.max(D.moveLeft,D.moveRight))/150):0,D.velY=D.moveDown||D.moveUp?(D.moveUp>D.moveDown?-1:1)*h(0,1,(C-Math.max(D.moveUp,D.moveDown))/150):0);break;case 2:i("KeyT")&&(async e=>{if(navigator.canShare&&navigator.canShare(e))try{await navigator.share(e)}catch{}else open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(e.text)}&url=${encodeURIComponent(e.url)}`,"_blank")})({title:document.title,text:"Check this game template made by @herebefrogs",url:"https://bit.ly/gmjblp"}),(n()||R())&&(U=0)}})(),1===U&&(0>(X-=Z)&&(U=2),Y.forEach(q),Y.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(D,e);t.collide&&((e,t,o)=>{const{entity1MaxX:a,entity1MaxY:n,entity2MaxX:i,entity2MaxY:h}=o,r=a-t.x,c=n-t.y,d=i-e.x,l=h-e.y;e.velX>0&&e.velY>0?c>r?e.x-=r:e.y-=c:e.velX>0&&0>e.velY?l>r?e.x-=r:e.y+=l:e.velX>0?e.x-=r:0>e.velX&&e.velY>0?c>d?e.x+=d:e.y-=c:0>e.velX&&0>e.velY?l>d?e.x+=d:e.y+=l:0>e.velX?e.x+=d:e.velY>0?e.y-=c:0>e.velY&&(e.y+=l)})(D,e,t)})),0>(e=D).x?e.x=0:e.x>P.width-e.w&&(e.x=P.width-e.w),0>e.y?e.y=0:e.y>P.height-e.h&&(e.y=P.height-e.h),K>0&&K+j>D.x?K=Math.max(0,D.x-j):P.width>K+j+120&&D.x+D.w>K+j+120&&(K=Math.min(P.width-320,D.x+D.w-220)),I>0&&I+50>D.y?I=Math.max(0,D.y-50):P.height>I+50+140&&D.y+D.h>I+50+140&&(I=Math.min(P.height-240,D.y+D.h-190))),(()=>{switch(u.clearRect(0,0,A.width,A.height),U){case 0:B.fillStyle="#fff",B.fillRect(0,0,T.width,T.height),k("title screen",8,8),k(b?"tap to start":"press any key",160,120,1),N===L.length&&k("konami mode on",T.width-8,8,2);break;case 1:B.drawImage(P,0,0,T.width,T.height),Y.forEach((e=>((e,t=B)=>{const o=V[e.type][e.action][e.frame];t.drawImage(O,o.x,o.y,o.w,o.h,Math.round(e.x),Math.round(e.y),o.w,o.h)})(e))),k("game screen",8,8),(()=>{const e=(X+1)/60|0,t=X+1-60*e|0;k(`${e}:${t>9?"":"0"}${t}`,312,8,2)})();break;case 2:B.fillStyle="#fff",B.fillRect(0,0,T.width,T.height),k("end screen",8,8)}F.drawImage(T,K,I,320,240,0,0,c.width,c.height),F.drawImage(H,0,0,320,240,0,0,c.width,c.height)})(),z=C)}function _(e){(J=e)?(z=performance.now(),$()):cancelAnimationFrame(G)}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async()=>{p=await r("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(),O=await r("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),_(!0)},onresize=onrotate=()=>{scaleToFit=Math.min(innerWidth/T.width,innerHeight/T.height),c.width=T.width*scaleToFit,c.height=T.height*scaleToFit,F.imageSmoothingEnabled=Q.imageSmoothingEnabled=B.imageSmoothingEnabled=!1,window.focus()},document.onvisibilitychange=e=>{_(!e.target.hidden)},addEventListener("keydown",(e=>{e.repeat||1!==U||"KeyP"!==e.code||_(!J)}))})();</script>